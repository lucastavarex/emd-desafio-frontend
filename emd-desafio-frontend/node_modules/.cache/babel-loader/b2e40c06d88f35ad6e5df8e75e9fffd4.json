{"ast":null,"code":"var _jsxFileName = \"/home/lucastavares/Desktop/emd-desafio-frontend-final/emd-desafio-frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport mapboxgl from 'mapbox-gl';\nimport scrollama from 'scrollama';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\n\n//Aqui defini um objeto layerTypes \n//que mapeia os tipos de camadas do Mapbox GL JS \n//para as propriedades de opacidade correspondentes.\nconst layerTypes = {\n  'fill': ['fill-opacity'],\n  'line': ['line-opacity'],\n  'circle': ['circle-opacity', 'circle-stroke-opacity'],\n  'symbol': ['icon-opacity', 'text-opacity'],\n  'raster': ['raster-opacity'],\n  'fill-extrusion': ['fill-extrusion-opacity']\n};\n\n//Esse objeto alignments mapeia as opções de alinhamento\n// para classes CSS correspondentes.\nconst alignments = {\n  'left': 'lefty',\n  'center': 'centered',\n  'right': 'righty'\n};\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleScroll = () => {\n      // Verifica se o usuário chegou ao final da página\n      if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n        // Se sim, rola a página para o topo\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        });\n      }\n    };\n    this.state = {\n      currentChapter: props.chapters[0]\n    };\n  }\n  componentDidMount() {\n    const config = this.props;\n    const mapStart = config.chapters[0].location;\n    mapboxgl.accessToken = config.accessToken;\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: config.style,\n      center: mapStart.center,\n      zoom: mapStart.zoom,\n      pitch: mapStart.pitch,\n      bearing: mapStart.bearing\n    });\n\n    //parâmetros para garantir que o modelo seja georreferenciado corretamente no mapa\n    const modelOrigin = [-43.21048, -22.95181];\n    const modelAltitude = 0;\n    const modelRotate = [Math.PI / 2, 0, 0];\n    const modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(modelOrigin, modelAltitude);\n\n    //parâmetros de transformação para posicionar, girar e dimensionar o modelo 3D no mapa\n    const modelTransform = {\n      translateX: modelAsMercatorCoordinate.x,\n      translateY: modelAsMercatorCoordinate.y,\n      translateZ: modelAsMercatorCoordinate.z,\n      rotateX: modelRotate[0],\n      rotateY: modelRotate[1],\n      rotateZ: modelRotate[2],\n      scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits()\n      /* Since the 3D model is in real world meters, a scale transform needs to be\n       * applied since the CustomLayerInterface expects units in MercatorCoordinates.\n       */\n    };\n\n    // configuration of the custom layer for a 3D model per the CustomLayerInterface\n    const customLayer = {\n      id: '3d-model',\n      type: 'custom',\n      renderingMode: '3d',\n      onAdd: function (map, gl) {\n        this.camera = new THREE.Camera();\n        this.scene = new THREE.Scene();\n\n        // create two three.js lights to illuminate the model\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);\n        directionalLight.position.set(-100, -70, 100).normalize();\n        this.scene.add(directionalLight);\n        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 1.5);\n        directionalLight2.position.set(100, 70, 100).normalize();\n        this.scene.add(directionalLight2);\n\n        // use the three.js GLTF loader to add the 3D model to the three.js scene\n        const loader = new GLTFLoader();\n        loader.load('cristo.gltf', gltf => {\n          this.scene.add(gltf.scene);\n        });\n        this.map = map;\n\n        // use the Mapbox GL JS map canvas for three.js\n        this.renderer = new THREE.WebGLRenderer({\n          canvas: map.getCanvas(),\n          context: gl,\n          antialias: true\n        });\n        this.renderer.autoClear = false;\n      },\n      render: function (gl, matrix) {\n        const rotationX = new THREE.Matrix4().makeRotationAxis(new THREE.Vector3(1, 0, 0), modelTransform.rotateX);\n        const rotationY = new THREE.Matrix4().makeRotationAxis(new THREE.Vector3(0, 1, 0), modelTransform.rotateY);\n        const rotationZ = new THREE.Matrix4().makeRotationAxis(new THREE.Vector3(0, 0, 1), modelTransform.rotateZ);\n        const m = new THREE.Matrix4().fromArray(matrix);\n        const l = new THREE.Matrix4().makeTranslation(modelTransform.translateX, modelTransform.translateY, modelTransform.translateZ).scale(new THREE.Vector3(modelTransform.scale, -modelTransform.scale, modelTransform.scale)).multiply(rotationX).multiply(rotationY).multiply(rotationZ);\n        this.camera.projectionMatrix = m.multiply(l);\n        this.renderer.resetState();\n        this.renderer.render(this.scene, this.camera);\n        this.map.triggerRepaint();\n      }\n    };\n    map.on('style.load', () => {\n      map.addLayer(customLayer, 'waterway-label');\n    });\n    const marker = new mapboxgl.Marker();\n    if (config.showMarkers) {\n      marker.setLngLat(mapStart.center).addTo(map);\n    }\n    function getLayerPaintType(layer) {\n      var layerType = map.getLayer(layer).type;\n      return layerTypes[layerType];\n    }\n    function setLayerOpacity(layer) {\n      var paintProps = getLayerPaintType(layer.layer);\n      paintProps.forEach(function (prop) {\n        map.setPaintProperty(layer.layer, prop, layer.opacity);\n      });\n    }\n    const setState = this.setState.bind(this);\n\n    // instancia do scrollama\n    const scroller = scrollama();\n    map.on('load', function () {\n      // setup the instance, pass callback functions\n      scroller.setup({\n        step: '.step',\n        offset: 0,\n        progress: true\n      }).onStepEnter(response => {\n        const chapter = config.chapters.find(chap => chap.id === response.element.id);\n        setState({\n          currentChapter: chapter\n        });\n\n        // Define as opções de animação\n        const flyOptions = {\n          center: chapter.location.center,\n          zoom: chapter.location.zoom,\n          bearing: chapter.location.bearing,\n          pitch: chapter.location.pitch,\n          duration: 2000,\n          // Duração da animação em milissegundos (aqui definimos 2 segundos)\n          easing: t => t // Curva de aceleração linear (pode ser alterada para outras curvas)\n        };\n        // Executa a animação com as opções definidas\n        map.flyTo(flyOptions);\n      }).onStepExit(response => {\n        var chapter = config.chapters.find(chap => chap.id === response.element.id);\n        if (chapter.onChapterExit.length > 0) {\n          chapter.onChapterExit.forEach(setLayerOpacity);\n        }\n      });\n    });\n    window.addEventListener('resize', scroller.resize);\n\n    // Adiciona o event listener para o scroll\n    window.addEventListener('scroll', this.handleScroll);\n  }\n  componentWillUnmount() {\n    // Remove o event listener quando o componente é desmontado para evitar memory leaks\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n  render() {\n    const config = this.props;\n    const theme = config.theme;\n    const currentChapterID = this.state.currentChapter.id;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: el => this.mapContainer = el,\n      className: \"absolute top right left bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"story\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }\n    }, config.title && /*#__PURE__*/React.createElement(\"div\", {\n      id: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, config.image && /*#__PURE__*/React.createElement(\"img\", {\n      src: config.image,\n      alt: \"Imagem do t\\xEDtulo\",\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 54\n      }\n    }), \" \", config.title)), config.subtitle && /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 33\n      }\n    }, config.subtitle), config.byline && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 33\n      }\n    }, config.byline)), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"features\",\n      className: alignments[config.alignment],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, config.chapters.map(chapter => /*#__PURE__*/React.createElement(Chapter, Object.assign({\n      key: chapter.id,\n      theme: theme\n    }, chapter, {\n      currentChapterID: currentChapterID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 33\n      }\n    }))))));\n  }\n}\nfunction Chapter(_ref) {\n  let {\n    id,\n    theme,\n    title,\n    image,\n    description,\n    currentChapterID\n  } = _ref;\n  const classList = id === currentChapterID ? \"step active\" : \"step\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: `${classList}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: id === \"corcovado\" ? \"\" : theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, title && /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 27\n    }\n  }, title), image && /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 27\n    }\n  }), description && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 33\n    }\n  }, description)));\n}\nexport default App;","map":{"version":3,"names":["React","Component","mapboxgl","scrollama","THREE","GLTFLoader","layerTypes","alignments","App","constructor","props","handleScroll","window","innerHeight","scrollY","document","body","offsetHeight","scrollTo","top","behavior","state","currentChapter","chapters","componentDidMount","config","mapStart","location","accessToken","map","Map","container","mapContainer","style","center","zoom","pitch","bearing","modelOrigin","modelAltitude","modelRotate","Math","PI","modelAsMercatorCoordinate","MercatorCoordinate","fromLngLat","modelTransform","translateX","x","translateY","y","translateZ","z","rotateX","rotateY","rotateZ","scale","meterInMercatorCoordinateUnits","customLayer","id","type","renderingMode","onAdd","gl","camera","Camera","scene","Scene","directionalLight","DirectionalLight","position","set","normalize","add","directionalLight2","loader","load","gltf","renderer","WebGLRenderer","canvas","getCanvas","context","antialias","autoClear","render","matrix","rotationX","Matrix4","makeRotationAxis","Vector3","rotationY","rotationZ","m","fromArray","l","makeTranslation","multiply","projectionMatrix","resetState","triggerRepaint","on","addLayer","marker","Marker","showMarkers","setLngLat","addTo","getLayerPaintType","layer","layerType","getLayer","setLayerOpacity","paintProps","forEach","prop","setPaintProperty","opacity","setState","bind","scroller","setup","step","offset","progress","onStepEnter","response","chapter","find","chap","element","flyOptions","duration","easing","t","flyTo","onStepExit","onChapterExit","length","addEventListener","resize","componentWillUnmount","removeEventListener","theme","currentChapterID","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","el","className","title","image","src","alt","subtitle","byline","alignment","Chapter","Object","assign","key","_ref","description","classList"],"sources":["/home/lucastavares/Desktop/emd-desafio-frontend-final/emd-desafio-frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport mapboxgl from 'mapbox-gl';\nimport scrollama from 'scrollama';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\n\n//Aqui defini um objeto layerTypes \n//que mapeia os tipos de camadas do Mapbox GL JS \n//para as propriedades de opacidade correspondentes.\nconst layerTypes = {\n    'fill': ['fill-opacity'],\n    'line': ['line-opacity'],\n    'circle': ['circle-opacity', 'circle-stroke-opacity'],\n    'symbol': ['icon-opacity', 'text-opacity'],\n    'raster': ['raster-opacity'],\n    'fill-extrusion': ['fill-extrusion-opacity']\n}\n\n//Esse objeto alignments mapeia as opções de alinhamento\n// para classes CSS correspondentes.\nconst alignments = {\n    'left': 'lefty',\n    'center': 'centered',\n    'right': 'righty'\n}\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentChapter: props.chapters[0]\n        };\n    }\n\n    componentDidMount() {\n        const config = this.props;\n        const mapStart = config.chapters[0].location;\n\n        mapboxgl.accessToken = config.accessToken;\n\n        const map = new mapboxgl.Map({\n            container: this.mapContainer,\n            style: config.style,\n            center: mapStart.center,\n            zoom: mapStart.zoom,\n            pitch: mapStart.pitch,\n            bearing: mapStart.bearing,\n\n        });\n\n        //parâmetros para garantir que o modelo seja georreferenciado corretamente no mapa\n        const modelOrigin = [-43.21048, -22.95181];\n        const modelAltitude = 0;\n        const modelRotate = [Math.PI / 2, 0, 0];\n\n        const modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(\n            modelOrigin,\n            modelAltitude\n        );\n\n        //parâmetros de transformação para posicionar, girar e dimensionar o modelo 3D no mapa\n        const modelTransform = {\n            translateX: modelAsMercatorCoordinate.x,\n            translateY: modelAsMercatorCoordinate.y,\n            translateZ: modelAsMercatorCoordinate.z,\n            rotateX: modelRotate[0],\n            rotateY: modelRotate[1],\n            rotateZ: modelRotate[2],\n            scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits()\n            /* Since the 3D model is in real world meters, a scale transform needs to be\n             * applied since the CustomLayerInterface expects units in MercatorCoordinates.\n             */\n        };\n\n\n        // configuration of the custom layer for a 3D model per the CustomLayerInterface\n        const customLayer = {\n            id: '3d-model',\n            type: 'custom',\n            renderingMode: '3d',\n            onAdd: function (map, gl) {\n                this.camera = new THREE.Camera();\n                this.scene = new THREE.Scene();\n\n                // create two three.js lights to illuminate the model\n                const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);\n                directionalLight.position.set(-100, -70, 100).normalize();\n                this.scene.add(directionalLight);\n\n                const directionalLight2 = new THREE.DirectionalLight(0xffffff, 1.5);\n                directionalLight2.position.set(100, 70, 100).normalize();\n                this.scene.add(directionalLight2);\n\n                // use the three.js GLTF loader to add the 3D model to the three.js scene\n                const loader = new GLTFLoader();\n                loader.load(\n                    'cristo.gltf',\n                    (gltf) => {\n                        this.scene.add(gltf.scene);\n                    }\n                );\n                this.map = map;\n\n                // use the Mapbox GL JS map canvas for three.js\n                this.renderer = new THREE.WebGLRenderer({\n                    canvas: map.getCanvas(),\n                    context: gl,\n                    antialias: true\n                });\n\n                this.renderer.autoClear = false;\n            },\n            render: function (gl, matrix) {\n                const rotationX = new THREE.Matrix4().makeRotationAxis(\n                    new THREE.Vector3(1, 0, 0),\n                    modelTransform.rotateX\n                );\n                const rotationY = new THREE.Matrix4().makeRotationAxis(\n                    new THREE.Vector3(0, 1, 0),\n                    modelTransform.rotateY\n                );\n                const rotationZ = new THREE.Matrix4().makeRotationAxis(\n                    new THREE.Vector3(0, 0, 1),\n                    modelTransform.rotateZ\n                );\n\n                const m = new THREE.Matrix4().fromArray(matrix);\n                const l = new THREE.Matrix4()\n                    .makeTranslation(\n                        modelTransform.translateX,\n                        modelTransform.translateY,\n                        modelTransform.translateZ\n                    )\n                    .scale(\n                        new THREE.Vector3(\n                            modelTransform.scale,\n                            -modelTransform.scale,\n                            modelTransform.scale\n                        )\n                    )\n                    .multiply(rotationX)\n                    .multiply(rotationY)\n                    .multiply(rotationZ);\n\n                this.camera.projectionMatrix = m.multiply(l);\n                this.renderer.resetState();\n                this.renderer.render(this.scene, this.camera);\n                this.map.triggerRepaint();\n            }\n        };\n        map.on('style.load', () => {\n            map.addLayer(customLayer, 'waterway-label');\n        });\n\n        const marker = new mapboxgl.Marker();\n        if (config.showMarkers) {\n            marker.setLngLat(mapStart.center).addTo(map);\n        }\n\n        function getLayerPaintType(layer) {\n            var layerType = map.getLayer(layer).type;\n            return layerTypes[layerType];\n        }\n\n        function setLayerOpacity(layer) {\n            var paintProps = getLayerPaintType(layer.layer);\n            paintProps.forEach(function (prop) {\n                map.setPaintProperty(layer.layer, prop, layer.opacity);\n            });\n        }\n\n        const setState = this.setState.bind(this);\n\n        // instancia do scrollama\n        const scroller = scrollama();\n\n        map.on('load', function () {\n\n            // setup the instance, pass callback functions\n            scroller\n                .setup({\n                    step: '.step',\n                    offset: 0,\n                    progress: true\n                })\n                .onStepEnter(response => {\n                    const chapter = config.chapters.find(chap => chap.id === response.element.id);\n                    setState({ currentChapter: chapter });\n\n                    // Define as opções de animação\n                    const flyOptions = {\n                        center: chapter.location.center,\n                        zoom: chapter.location.zoom,\n                        bearing: chapter.location.bearing,\n                        pitch: chapter.location.pitch,\n                        duration: 2000, // Duração da animação em milissegundos (aqui definimos 2 segundos)\n                        easing: t => t, // Curva de aceleração linear (pode ser alterada para outras curvas)\n                    };\n                    // Executa a animação com as opções definidas\n                    map.flyTo(flyOptions);\n\n                })\n                .onStepExit(response => {\n                    var chapter = config.chapters.find(chap => chap.id === response.element.id);\n                    if (chapter.onChapterExit.length > 0) {\n                        chapter.onChapterExit.forEach(setLayerOpacity);\n                    }\n                });\n        });\n\n        window.addEventListener('resize', scroller.resize);\n\n        // Adiciona o event listener para o scroll\n        window.addEventListener('scroll', this.handleScroll);\n    }\n\n    componentWillUnmount() {\n        // Remove o event listener quando o componente é desmontado para evitar memory leaks\n        window.removeEventListener('scroll', this.handleScroll);\n    }\n\n    handleScroll = () => {\n        // Verifica se o usuário chegou ao final da página\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n            // Se sim, rola a página para o topo\n            window.scrollTo({ top: 0, behavior: 'smooth' }); \n        }\n    }\n\n    render() {\n        const config = this.props;\n        const theme = config.theme;\n        const currentChapterID = this.state.currentChapter.id;\n        return (\n            <div>\n                <div ref={el => this.mapContainer = el} className=\"absolute top right left bottom\" />\n                <div id=\"story\">\n                    {config.title &&\n                        <div id=\"header\" >\n                            <h1>\n                                <div className=\"logo-container\">\n                                    {config.image && <img src={config.image} alt=\"Imagem do título\" className=\"logo\" />} {/* Adicionando a imagem */}\n                                    {config.title}\n                                </div>\n                            </h1>\n                            {config.subtitle &&\n                                <h2>{config.subtitle}</h2>\n                            }\n                            {config.byline &&\n                                <p>{config.byline}</p>\n                            }\n                        </div>\n                    }\n                    <div id=\"features\" className={alignments[config.alignment]}>\n                        {\n                            config.chapters.map(chapter =>\n                                <Chapter key={chapter.id} theme={theme} {...chapter} currentChapterID={currentChapterID} />\n                            )\n                        }\n                    </div>\n                 \n                </div>\n            </div>\n        );\n    }\n\n}\n\nfunction Chapter({ id, theme, title, image, description, currentChapterID }) {\n    const classList = id === currentChapterID ? \"step active\" : \"step\";\n\n    return (\n        <div id={id} className={`${classList}`}>\n            <div className={id === \"corcovado\" ? \"\" : theme}>\n                {title && <h3 className=\"title\">{title}</h3>}\n                {image && <img src={image} alt={title} />}\n                {description && <p>{description}</p>}\n            </div>\n        </div>\n    );\n}\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}